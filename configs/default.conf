# Proxmox CS2 Worker Configuration
# This file contains default configuration values for the Proxmox CS2 worker deployment

# VM Template Configuration
TEMPLATE_VMID=9000
TEMPLATE_NAME="win11-cs2-template"
TEMPLATE_MEMORY=8192        # Memory in MB
TEMPLATE_CORES=4           # CPU cores
TEMPLATE_DISK_SIZE="60G"   # Disk size
TEMPLATE_STORAGE="local-lvm"

# Worker VM Configuration
WORKER_BASE_VMID=1000      # Starting VMID for workers
WORKER_MEMORY=8192         # Memory per worker VM (MB)
WORKER_CORES=4             # CPU cores per worker VM
WORKER_STORAGE="local-lvm" # Storage pool for worker VMs
WORKER_NETWORK_BRIDGE="vmbr0"

# GPU Configuration
NVIDIA_DRIVER_VERSION="535.129.03"
VGPU_PROFILE_TYPE="nvidia-63"  # RTX 4090 4GB profile
MAX_VGPU_INSTANCES=8           # Maximum vGPU instances per physical GPU

# CS2 Configuration
CS2_REPO_URL="https://github.com/your-org/cs2-worker-scripts.git"
CS2_INSTALL_PATH="C:\\Program Files (x86)\\Steam\\steamapps\\common\\Counter-Strike Global Offensive"
CS2_LAUNCH_PARAMS="-novid -nojoy -noaafonts -nod3d9ex -high -threads 4 +fps_max 60"

# Network Configuration
DEFAULT_LOADBALANCER_URL=""
HEALTH_CHECK_INTERVAL=30    # Seconds between health checks
WORKER_STARTUP_DELAY=30     # Seconds between worker startups

# System Limits
MAX_WORKERS=20             # Maximum number of workers
MIN_SYSTEM_MEMORY_GB=16    # Minimum system memory required
MIN_DISK_SPACE_GB=500      # Minimum disk space required

# Logging Configuration
LOG_LEVEL="INFO"           # DEBUG, INFO, WARN, ERROR
LOG_RETENTION_DAYS=7       # Days to keep log files
LOG_MAX_SIZE_MB=100        # Maximum log file size in MB

# Timeouts (in seconds)
VM_START_TIMEOUT=300       # Time to wait for VM to start
VM_AGENT_TIMEOUT=300       # Time to wait for qemu agent
CLONE_TIMEOUT=600          # Time to wait for VM clone operation
PROVISIONING_TIMEOUT=1800  # Total provisioning timeout

# Retry Configuration
MAX_RETRIES=3              # Maximum retry attempts for operations
RETRY_DELAY=10             # Seconds between retry attempts

# Windows Configuration
WINDOWS_USERNAME="worker"
WINDOWS_AUTO_LOGIN=true
WINDOWS_UPDATE_DISABLED=true

# Steam Configuration
STEAM_AUTO_LOGIN=true
STEAM_OFFLINE_MODE=false
